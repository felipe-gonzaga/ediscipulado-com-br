<div class="row">
    <div class="col-lg-12" [nbSpinner]="loading" nbSpinnerStatus="info" nbSpinnerSize="giant">
      <nb-card>
          <nb-card-header><h4>{{ editando ? 'Edição de' : 'Novo' }} Local</h4></nb-card-header>
            <nb-card-body>
              <form autocomplete="off" #f="ngForm" (ngSubmit)="salvar(f)">
                <div class="form-group">
                    <label>Igreja</label>
                    <nb-select fullWidth name="igrejas" [selected]="local.igreja.codigo" [(ngModel)]="local.igreja.codigo">
                      <nb-option  *ngFor="let igreja of igrejas" [value]="igreja.value"> {{ igreja.name }}</nb-option>
                    </nb-select>
                  </div>

                  <div class="form-group">
                    <label>Nome</label>
                    <input type="text" nbInput fullWidth name="nome" [(ngModel)]="local.nome" ngModel #nome="ngModel" required minlength="3" >

                    <app-message [control]="nome" error="required" text="Informe o nome" ></app-message>
                    <app-message [control]="nome" error="minlength" text="Mínimo de {{ nome.errors?.minlength?.requiredLength }} caracteres." ></app-message>

                  </div>

                  <div class="form-group">
                    <label>Tipo</label>
                      <nb-radio-group [(value)]="local.tipo" name="tipo" ngModel #tipo="ngModel">
                        <nb-radio required [value]="'A'" >Ambos</nb-radio>
                        <nb-radio required [value]="'C'" >Conversão</nb-radio>
                        <nb-radio required [value]="'B'" >Batismo</nb-radio>
                      </nb-radio-group>
                      <app-message [control]="tipo" error="required" text="Informe o tipo" ></app-message>
                  </div>

                  <div class="form-group">
                    <button nbButton type="submit" status="primary" [disabled]="f.invalid">Salvar</button>
                    <button nbButton type="button" status="primary" (click)="novo(f)" >Novo</button>
                    <a routerLink="/pages/locais" >Voltar para a pesquisa</a>
                  </div>

            </form>
          </nb-card-body>
        </nb-card>
      </div>
  </div>
