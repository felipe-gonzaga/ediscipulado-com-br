<div class="row">
  <div class="col-lg-12" [nbSpinner]="loading" nbSpinnerStatus="info" nbSpinnerSize="giant">
    <nb-card>
        <nb-card-header><h4>{{ editando ? 'Edição de' : 'Novo' }} Situação</h4></nb-card-header>
          <nb-card-body>
            <form autocomplete="off" #f="ngForm" (ngSubmit)="salvar(f)">
              <div class="form-group">
                  <label>Igreja</label>
                  <nb-select fullWidth name="igrejas" [selected]="situacao.igreja.codigo" [(ngModel)]="situacao.igreja.codigo">
                    <nb-option  *ngFor="let igreja of igrejas" [value]="igreja.value"> {{ igreja.name }}</nb-option>
                  </nb-select>
                </div>

                <div class="form-group">
                  <label>Descrição</label>
                  <input type="text" nbInput fullWidth name="descricao" [(ngModel)]="situacao.descricao" ngModel #descricao="ngModel" required minlength="3" >

                  <app-message [control]="descricao" error="required" text="Informe a descrição" ></app-message>
                  <app-message [control]="descricao" error="minlength" text="Mínimo de {{ descricao.errors?.minlength?.requiredLength }} caracteres." ></app-message>

                </div>

                <div class="form-group">
                  <button nbButton type="submit" status="primary" [disabled]="f.invalid">Salvar</button>
                  <button nbButton type="button" status="primary" (click)="novo(f)" >Novo</button>
                  <a routerLink="/pages/situacoes" >Voltar para a pesquisa</a>
                </div>

          </form>
        </nb-card-body>
      </nb-card>
    </div>
</div>
